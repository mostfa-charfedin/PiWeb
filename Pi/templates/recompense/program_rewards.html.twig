{% extends 'base.html.twig' %}

{% block title %}Program Rewards{% endblock %}

{% block body %}
<div class="container-fluid py-4" style="background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); min-height: 100vh;">
    <div class="container">
        <div class="text-center mb-4">
            <img src="{{ asset('assets/imgP/logo.png') }}" alt="Logo" style="width: 200px; height: auto; filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.3));">
        </div>
        <div class="row justify-content-center">
            <div class="col-md-10">
                <div class="card shadow-lg" style="border-radius: 20px; border: none; overflow: hidden;">
                    <div class="card-header text-center p-4" style="background: linear-gradient(135deg, #0061ff 0%, #60efff 100%);">
                        <h3 class="text-white mb-0" style="font-weight: 600; text-shadow: 2px 2px 4px rgba(0,0,0,0.2);">Rewards for {{ programme.titre }}</h3>
                    </div>
                    <div class="card-body p-4" style="background: rgba(255, 255, 255, 0.9);">
                        <div class="table-responsive">
                            <table class="table table-hover align-middle">
                                <thead>
                                    <tr>
                                        <th class="text-primary" style="font-weight: 600;">Type</th>
                                        <th class="text-primary" style="font-weight: 600;">Attribution Date</th>
                                        <th class="text-primary" style="font-weight: 600;">Status</th>
                                        <th class="text-center text-primary" style="font-weight: 600;">Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                {% for recompense in recompenses %}
                                    <tr>
                                        <td>{{ recompense.type }}</td>
                                        <td>{{ recompense.dateattribution ? recompense.dateattribution|date('Y-m-d') : '' }}</td>
                                        <td>{{ recompense.statusrecompence }}</td>
                                        <td class="text-center">
                                            <a href="{{ path('app_recompense_show', {'idrecompense': recompense.idrecompense}) }}" class="btn btn-info btn-sm">
                                                <i class="bi bi-eye"></i> View
                                            </a>
                                            <a href="{{ path('app_recompense_edit', {'idrecompense': recompense.idrecompense}) }}" class="btn btn-primary btn-sm">
                                                <i class="bi bi-pencil"></i> Edit
                                            </a>
                                            <form method="post" action="{{ path('app_recompense_delete', {'idrecompense': recompense.idrecompense}) }}" onsubmit="return confirm('Are you sure you want to delete this reward?');" style="display: inline;">
                                                <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ recompense.idrecompense) }}">
                                                <button class="btn btn-danger btn-sm">
                                                    <i class="bi bi-trash"></i> Delete
                                                </button>
                                            </form>
                                        </td>
                                    </tr>
                                {% else %}
                                    <tr>
                                        <td colspan="4" class="text-center text-muted">No rewards found for this program</td>
                                    </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>

                        <div class="d-grid gap-2 mt-4">
                            <a href="{{ path('app_programmebienetre_index') }}" 
                               class="btn btn-light btn-lg" 
                               style="border-radius: 15px; padding: 15px; background: white; border: 2px solid #e2e8f0; font-weight: 600; letter-spacing: 0.5px; transition: all 0.3s ease;">
                                <i class="bi bi-arrow-left me-2"></i>Back to Programs List
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .table th {
        border-top: none;
        border-bottom: 2px solid #e2e8f0;
    }
    
    .table td {
        border: none;
        padding: 1rem;
    }
    
    .table tbody tr {
        border-bottom: 1px solid #e2e8f0;
        transition: all 0.2s ease;
    }
    
    .table tbody tr:hover {
        background-color: rgba(0,97,255,0.05);
    }
    
    .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0,97,255,0.2);
    }
    
    .btn-warning:hover {
        box-shadow: 0 6px 20px rgba(234,179,8,0.2);
    }
    
    .btn-info:hover {
        box-shadow: 0 6px 20px rgba(14,165,233,0.2);
    }
</style>
{% endblock %} 